% \section{Background}
% \label{s:back}

\section{CCS}
\label{ss:ccs}

\hl{Here we recall the core theory of CCS.}
We assume a possibly infinite set of names $\mathscr{L} = \{a, b,
\ldots\}$ \hl{yielding} input and $\overline{\mbox{output}}$ labels (actions), plus a special invisible
action $\tau \notin \mathscr{L}$, and \hl{another possibly infinite
  set of agent} variables $A, B,
\ldots \in \mathscr{X}$.
The class of CCS processes is then inductively
defined from $\nil$ \hl{(the terminated process)} and agent variables by the operators
of \emph{prefixing} (.), \emph{parallel composition} ($|$),
\emph{summation}
(or \emph{binary choice}, $+$),
\emph{restriction} ($\nu$), \emph{relabeling} ($[\cdot]$) and
\emph{recursion} ($\texttt{rec}$):
\begin{equation*}
\begin{array}{cccl}
\mu  & := & \tau\!\!\!\! & \midd \; a  \; \midd \;  \outC a  \\
P  & := & \nil\!\!\!\! & \midd \;  \mu . P \; \midd \;  P_1 |  P_2 \; \midd  \;
P_1 + P_2 \; \midd 
(\res L)\, P
\; \midd \; P\; [\mathit{rf}]  % relabelling
\;  \midd \;  A \; \midd \; \recu A  P
\end{array}
\end{equation*}
\hl{In our presentation of CCS, 
the restriction operator takes a set of  labels $L
    \subseteq \mathscr{L}$, rather than a single one.  
The relabeling operator takes a relabeling function
    $\mathit{rf} \colon \mathscr{L} \cup \overline{\mathscr{L}} \cup
    \{\tau\} \rightarrow \mathscr{L} \cup \overline{\mathscr{L}} \cup
    \{\tau\}$, that can  handle multiple actions including $\tau$. A valid
    relabeling function $\mathit{rf}$ must however 
satisfy $\mathit{rf}(\tau) =
    \tau$ and $\forall l\in\mathscr{L} \cup \overline{\mathscr{L}}.\, \mathit{rf}(\overline{l}) =
    \overline{\mathit{rf}(l)}$ (with $\bar{\bar l} = l$ for all $l \in
    \mathscr{L}$).}
% \hl{Notice the (minor) differences with other CCS literature
% regarding the above definition:} 
% \begin{enumerate}
%   \item Some literature adopts possibly infinite sums over an index
%     set ($\sum_{i\in I} P_i$) while we only consider binary (thus
%     finite) sums, which is less expressive.
%   \item Our restriction operator takes a set of (input) labels $L
%     \subseteq \mathscr{L}$, while some CCS literature only restricts
%     one label (for each restriction operator);
%   \item Our relabeling operator takes a relabeling function
%     $\mathit{rf} \colon \mathscr{L} \cup \overline{\mathscr{L}} \cup
%     \{\tau\} \rightarrow \mathscr{L} \cup \overline{\mathscr{L}} \cup
%     \{\tau\}$, which
%     is capable to handle multiple actions including $\tau$. A valid
%     relabeling function $\mathit{rf}$ must satisfy $\mathit{rf}(\tau) =
%     \tau$ and $\forall l\in\mathscr{L} \cup
%     \overline{\mathscr{L}}.\, \mathit{rf}(\overline{l}) = 
%     \overline{\mathit{rf}(l)}$ (with $\bar{\bar l} = l$ for all $l \in
%     \mathscr{L}$); Same expressiveness
%     with single-label relabeling.
%   \item The recursion operator $\texttt{rec}$ has the same
%   expressiveness with  
%     \emph{process constants} adopted in some literature. For instance, a
%     CCS process $a.C$ with the constant $C \DSdefi b.C$ can be
%     expressed as $a.(\texttt{rec}\, C. (b.C))$.
% \end{enumerate}
We sometimes omit \hl{a} trailing $\nil$, e.g., writing $a|b$ for $a.\nil |b .\nil$.
A CCS process $P$ may \hl{evolve} to another one, say $P'$, under
  an action $\mu$, written by $P \arr{\mu} P'$.
The \hl{transition semantics} of CCS processes is given by means of
a Labeled Transition System (LTS) \hl{expressed in Structural Operational
Semantics (SOS) rules} shown in Fig.~\ref{f:LTSCCS}.
(The symmetric versions of the \hl{SOS} rules for
parallel composition and binary choice are omitted.)
A CCS processes uses only \emph{guarded sums} if all occurrences of
sums are in the form $a.P + b.Q$. 
% \hl{(Otherwise we may call the sum
% a \emph{direct} one, e.g. $P + Q$ if either $P$ or $Q$ are not in the
% form of prefixes.)}
 The \emph{immediate derivatives} of a
process $P$ are elements of the set $\{P' \st P \arr\mu P' \mbox{
  for some $\mu$}\}$.
We use $\ell$ to range over
visible actions (i.e.~inputs or outputs, excluding  $\tau$)
and $\alpha, \mu$  to range over all actions.
\begin{figure*}[t]
\begin{center}
\vskip .1cm
 $\displaystyle{  \over  \mu.  P \arr\mu
P } $  $ \hb$   
\hskip .5cm
 $\displaystyle{   P \arr\mu   P' \over   P + Q   \arr\mu
P'  } $  $ \hb$   
\hskip .5cm
 $\displaystyle{   P \arr\mu   P' \over   P | Q   \arr\mu
P' | Q } $  $ \hb$   
\hskip .3cm
  $\; \;$  $\displaystyle{ P \arr{ a}P' \hk \hk  Q
\arr{\outC a }Q'  \over  P|  Q \arr{ \tau} P'
|  Q'  }$ 
\\
\vspace{.2cm}
$\displaystyle{ P \arr{\mu}P' \over
 (\res L\!)\, P \arr{\mu} (\res L\!)\, P'} $ $ \mu, \outC\mu \not\in L$
$ \hb$
%
$\displaystyle{ P \sub {\recu A P} A \arr{\mu}P' \over
 \recu A P   \arr{ \mu} P'  } $
\hskip .5cm  
$\displaystyle{ P \arr{\mu} P' \over
 P \;[r\!f] \arr{r\!f(\mu)} P' \;[r\!f]} $
$ \hb$ %  &
\end{center}
\caption{Structural Operational Semantics of CCS}
\label{f:LTSCCS}
\end{figure*}

Some standard notations for transitions: $\Arr\epsilon$ is the 
reflexive and transitive closure of $\arr\tau$, and 
$\Arr \mu $ is $\Arr\epsilon \arr\mu \Arr\epsilon$ (the
composition of the three relations).
Moreover,   
$P \arcap \mu P'$ holds if $P \arr\mu P'$ or $\mu =\tau \wedge P = P'$; similarly 
$P \Arcap \mu P'$ holds if $P \Arr\mu P'$ or $\mu =\tau \wedge P = P'$).
We write $P \:(\arr\mu)^n P'$ if $P$ can become $P'$ after performing
$n$ $\mu$-transitions. Finally, $P \arr\mu$ holds if there is $P'$
with $P \arr\mu P'$, and similarly for other forms of transitions.

\paragraph{Further notations}
We let $\R$, $\S$ range over binary relations, sometimes using 
 infix notation for them; e.g., 
$P \,\R\, Q$ means $(P,Q) \in \R$.
We use a tilde, as in  $\til P$, to denote tuples of processes with
countably many elements (thus the tuple may also be infinite.)
All notations are extended to tuples componentwise,
e.g., $\til P \,\R\, \til Q$ means $P_i \,\R\, Q_i$ for each  
index $i$ of the tuples $\til P$ and $\til Q$.
We use the symbol $\DSdefi$ for abbreviations. For instance, $P \DSdefi G $, where
$G$ is some expression, means that $P$ stands for the expression $G$.
If $\leq$ is a preorder, then  $\geq$  is its inverse (and
conversely).

% next file: expansion.tex (bisimilarity and rooted bisimilarity, actually)
