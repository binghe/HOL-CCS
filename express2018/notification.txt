Dear Chun Tian,

We are pleased to inform you that your submission:
4 : Unique solutions of contractions, CCS, and their HOL formalisation
has been accepted for inclusion in the programme of the EXPRESS/SOS 2018 workshop, which will take place in Beijing, China on September 3, 2018.

Below you will find the reviews for your submission. Please take the suggestions of the reviewers into account when preparing the final version of your paper, which is due on:

** Sunday, August 5, 2018 **.

Please upload your paper by logging in at 
http://login.eptcs.org/
using the one-time set-up code

                        (removed)

References in EPTCS papers must contain the digital object identifier (DOI) of each cited publication, provided it can be found easily.
The page http://doi.eptcs.org/ tells why, how to find DOIs, and how to include DOIs in references.

One of the authors of each accepted paper must register for and attend the workshop to present their work.
Please visit the CONFESTA 2018 site (http://confesta2018.csp.escience.cn/) for further information.

Thank you for your interest in EXPRESS/SOS 2018. We look forward to seeing you in Beijing!

Best regards,
Jorge & Simone


----------------------- REVIEW 1 ---------------------
PAPER: 4
TITLE: Unique solutions of contractions, CCS, and their HOL formalisation
AUTHORS: Chun Tian and Davide Sangiorgi

Overall evaluation: 1 (weak accept)

----------- Overall evaluation -----------
In the context of CCS, unique solutions of equations were originally introduced by Milner and recently refined by the second author, as a proof technique for bisimilarity. The current paper reports on a formalisation of the theory in HOL4, and also includes a bit of theoretical progress (extending to rooted versions of bisimilarity). The work also involves quite some formalisation of basic notions such as CCS and (weak) bisimilarity, for which the authors were inspired by previous (older) formalisation work.

This should certainly be of interest to the EXPRESS/SOS community. I personally find it appealing that the formalisation (at least the part presented in the paper) looks natural, and quite easy to understand knowing the actual theory. Overall the paper is well-written and a nice read - althoug section 5 (on formalisation) is a bit sloppy at a few places, as pointed out below - but these are issues which can easily be fixed, should the paper get accepted. 

What I found less nice is that the formalisation seems only to cover single equations, rather than systems of equations. I don't expect extending to multiple variables is a big issue, but it is bad this isn't said more explicitly in the paper: the only mention I could find is a line in the conclusion, saying this is future work. In fact, on page 11, where context closure is introduced, it is said "(multi-hole) contexts" but I think multi-hole is not covered (and it would be needed for multiple equations). This should be discussed much more explictly, as it is, in fact, in the first author's master thesis. 

------------------------

abstract l3: "the a"
abstract l7: "the constraints on the occurences" maybe make this explicit
l-2 above section 2: "highlight*s* our formalisation"
sec 2: is relabelling in there or not? In the formalisation it appears to be
sec 2, l2: . missing 
below example 3.6: "As bisimilarity .." reformulate (use of "As" bit confusing)
proof of thm 3.10: "exploiting lemma 3.9": maybe explain a bit in a line or so. 
def 4.1: "the rooted contraction" remove "the"?
right after, "The definition of rooted contraction (..)" I find this sentence unclear
p6, l-8: "a system of contraction*s*"
p7, "based on its Datatype package" the previous definition already uses this
p7-8, definition `CCS: not knowning HOL, I was a bit confused by the CCS' vs CCS, maybe this can be explained
p8: "using HOL*'s* powerful"
Table 1: \tau?
p8, "returning a theorem indicating all direct transitions" so what happens with recursion, which could yield something infinite branching?
sec 5.2, def EPS: why not tau?
sec 5.2 below [WEAK_TRANS]: "a new tools" 
sec 5.2: "recall that in HOL, ! and ? stand for universal and existential quantifiers" a consistent choice should be made here: in almost all of the remaining pieces of HOL code, you use \forall and \exists 
p10, "The `coarsest ...' is the context closure" ?
p10, [CC_def]: CONTEXT is only defined in the next section. Also, shuold there be R g h in the antecedent?
p10 the argument above (1) is a bit unclear to me
sec 5.5, l2: "*L*emma 4.3" (capital)
sec 6: Damien Pous also formalised up-to techniques and some ccs examples in Coq


----------------------- REVIEW 2 ---------------------
PAPER: 4
TITLE: Unique solutions of contractions, CCS, and their HOL formalisation
AUTHORS: Chun Tian and Davide Sangiorgi

Overall evaluation: 2 (accept)

----------- Overall evaluation -----------
This paper studies unique solutions of contractions in the HOL4 theorem prover. For that, the authors follows a previous implementation of Monica Nesi to formalise the core of CCS in HOL4. Interestingly, this implementation HOL4 allows the authors to refine the theory of unique solutions for CCS. In particular, as they highlight, they remove the constraints on the occurrences of the sum operator.

The paper is very well-written and easy to follow. This is not the first formalisation of CCS in HOL (although seems to be the first one in the last version, HOL4), as the authors already mention, but when reading the paper is not very clear which things are novel in this implementation. I know that since the version of each implementation is different, there are many subtle differences, but I think that the authors should stress some of the differences (for example, I assume that the coarsest precongruence is novel but I don't know what is the situation with weak bisimilarity).

Overall, it is a nice paper that shows that sometimes the greatest advantage of formalisation of theories with theorem provers is the refinement of previously know results. Is not a groundbreaking improvement in the theory of unique solutions but, definitely, a paper in the spirit of the workshop.

Finally, some additional comments and typos:

- p.1 l.5 in Introduction: what do you mean when you say that the weak case "abstract from internal moves"? In weak semantics internal actions are considered separately in the form of a \tau action. Do you mean that in the strong case every action is considered in the same way, even those that could be internal? Maybe you could add some clarification on this sentence.

- Definitions 2.1 and 2.2: I think is clearer if you expand the second clause and explicitly write the converse of 1.

- p.5 l.13: between [15] and "This" is missing a dot.

- p.5 l.22: instead of \subseteq write \subset or \subsetneq.

- p.5 l.-1: If I'm not mistaken, instead of "C[Q]=>\approx C'[Q]" it should simply write "C[Q]\approx C'[Q]". This typo is also on p.6 at the end of the proof and p.7 in Lemma 4.3. 

- p.12 l.-5 and -6: I will write something in the lines of "Notice that if the list of actions is empty, that means that there is no transition and hence, if there is at most [...]".


----------------------- REVIEW 3 ---------------------
PAPER: 4
TITLE: Unique solutions of contractions, CCS, and their HOL formalisation
AUTHORS: Chun Tian and Davide Sangiorgi

Overall evaluation: 2 (accept)

----------- Overall evaluation -----------
This submission presents a HOL formalisation of (a generalisation of) a result that was obtained by the second author in ref. [15] of the paper. The theorem states that a system of rooted contractions has a unique solution up to observation congruence and as such provides a proof technique for showing that two processes are observation congruent. The generalisation consists in including a more general operator for alternative composition.

Both contributions (the generalisation of the theorem and its formalisation in HOL) are very useful. Moreover, in order to formalise the theorem, a significant part of the general theory of CCS also had to be formalised and is now available for future use. 

I think the paper has a solid contribution and is well-suited for the EXPRESS/SOS workshop, so I recommend acceptance.

Suggestions for improvement:
----------------------------------------

I would have appreciated getting a glimpse of user involvement in proving the theorems mentioned in Section 5. Is HOL able to prove the theorems automatically, or is it an interactive process?

The fragments of the formalisation and (to some extent also) the HOL theorems presented in Section 5 strike me as somewhat arbitrarily chosen, and each of these fragments could still be explained a bit better, in my opinion. My suggestion is to focus on one or two (HOL) theorems and then explain in more detail how the proof of those theorems proceeds in HOL (if not in the paper, then perhaps in a presentation at EXPRESS/SOS).

I found your notion of ‘context that uses weakly guarded sums’ confusing and it was only when I looked up ref. [15] when I understood what you meant. The way I understand it (now) is that, although weak bisimilarity is not compatible with an unrestricted variant of binary choice, it is compatible with weakly guarded sums (the syntactic construct as it is used in [15]). As a consequence, if a context C is built using a version of the syntax in which unrestricted binary choice is replaced by weakly guarded summation, then whenever P is weakly bisimilar to Q, also C[P] is weakly bisimilar to C[Q]. Apparently, a ‘context that uses weakly guarded sums’ should be thought of as built from the syntax in which the unrestricted binary operation for choice is replaced by the syntactic construct in [15]. My suggestion is that you explicitly inductively define the notion of ‘context with weakly guarded sums’. For an even clearer explanation of the issue, I would suggest to de!
fine ‘congruence’ as ‘equivalence compatible with the constructs of the syntax’, which (by induction on the structure) is equivalent to your notion of congruence. But the latter is, of course, more a matter of taste.

In Section 3.3, I’d prefer a more detailed explanation of the problem that weak bisimilarity is not compatible with + and how it affects the uniqueness of solutions over the given proof sketches.

Details:
----------

p. 2, l.1: I don’t know the “Hennessy and Deng” lemmas; put a reference.

p.4, “In contrast, ...”:
 It would be helpful if you would concretely define two distinct solutions.

p.4, Def. 3.3:
 In the first item you write ‘is underneath’ and in the second item you write ‘only appears underneath’. Probably you mean two times the same thing, so I suggest you use the same wording. Of course, I have an intuitive idea of what ‘being underneath’ means, but I’m not sure I would understand if I were not already familiar with the notion of ‘guardedness’. Furthermore, one may wonder what it means to be ‘underneath prefixes and sums’. I think you mean to say that it does not appear in the scope of a parallel composition, or a restriction (or recursion?). But it could also mean that every occurrence of a variable needs to be in the scope of at least one prefix and one choice operator.

p.8, l.1: HOL’s powerful `pretty printer’,

p.8: I think \tau is missing from Table 1.

p.10: Especially here, your mixing of HOL notation and mathematical notation seems to be a bit arbitrary to me. I suggest that you stick to HOL notation for the HOL theorems.

p.10: ‘sum equivalence’ I would call ‘compatibility with sum’

p.11, free_action property: I find it surprising that p and q both need to have a free action, but that, apparently, it is not necessary that the action is (simultaneously) free for both...

p.11, ‘typed $CCS \rightarrow CCS$’ -> `with the type CCS $\rightarrow$ CCS’

p.12, [SEQ_rules]:
 Shouldn’t the occurrences of SEQ on the left-hand sides of the universally quantified implications read CONTEXT?

p.13, ‘the length of intermediate actions in weak transitions’: ‘the number of intermediate actions’?
